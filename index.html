<script>
  // ... весь твой код без изменений до строки с поиском ...

  async function addPinFromKeyword(keyword){
    try{
      const directUrl = `https://source.unsplash.com/800x600/?${encodeURIComponent(keyword)}`;
      const id = uid();
      const dim = await probeImage(directUrl);
      pins.unshift({id, src:directUrl, title:keyword, w:dim.w, h:dim.h});
      save(); render();
    }catch(e){ alert('Не удалось загрузить изображение по запросу'); console.error(e); }
  }

  // модифицируем кнопку "Добавить по ссылке"
  $('#addUrl').addEventListener('click', ()=>{
    const u = $('#imgUrl').value.trim(); 
    const t = $('#imgTitle').value.trim();
    if(!u && t){ 
      // если ссылки нет, но есть название — ищем по названию
      addPinFromKeyword(t); 
      $('#imgTitle').value='';
      return;
    }
    if(!u) return alert('Вставьте ссылку на картинку или введите название');
    addPinFromURL(u, t); 
    $('#imgUrl').value=''; 
    $('#imgTitle').value='';
  });

  // ... весь твой код без изменений ...
</script>
